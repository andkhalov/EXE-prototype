<!doctype html>
<html lang="en">
  <head>
    <title>EXE Demo - Negotiation</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  </head>
  <body>
    <div class="container">
      <h1>Negotiation for Transaction {{ tx_id }}</h1>

      <div class="card">
        <p><strong>Negotiation Summary:</strong> {{ negotiation_summary }}</p>
      </div>

      <h2>Agent Costs</h2>
      <ul>
        {% for agent, cost in agent_costs.items() %}
          <li>{{ agent }}: <strong>{{ cost }}</strong> EXE</li>
        {% endfor %}
      </ul>

      <p>Gas Fee: <strong>{{ gas_fee }}</strong> EXE</p>
      <p><strong>Total:</strong> <strong>{{ total }}</strong> EXE</p>

      <p>ZK-Proof (stub): <strong>{{ zk_proof_stub }}</strong></p>

      <form method="POST" action="{{ url_for('signpay') }}">
        <input type="hidden" name="tx_id" value="{{ tx_id }}">
        <input type="hidden" name="total" value="{{ total }}">
        <button type="submit">Sign &amp; Pay</button>
      </form>
    </div>
  </body>
</html>
